---
title: Overlay System
order: 6
---

import { useState } from 'react';
import { Modal } from '../components/overlay/Modal';
import { Drawer } from '../components/overlay/Drawer';
import { Floating } from '../components/overlay/Floating';

# Overlay System

Overlay 시스템은 1티어 아키텍처 중 "Overlay & Stack" 계층을 담당합니다.
`z-index`와 `shadow(elevation)`를 엄격하게 관리하여, UI의 깊이감과 가시성을 보장합니다.

## Design Tokens

### Elevation (Shadow)
우리는 **Ambient Light**와 **Key Light**를 조합하여 입체적인 그림자를 만듭니다.

| Token | Depth | Usage |
| :--- | :--- | :--- |
| `flat` | 0dp | Default Button, Input |
| `raised` | 2dp | Cards, Fab |
| `overlay` | 4dp | Dropdowns, Menus, Drawers |
| `modal` | 8dp | Dialogs, Modals |
| `popover` | 16dp | Tooltips, High priority Toasts |

### Z-Index Scale
무분별한 `z-index: 9999`를 방지하기 위해 스케일을 정의했습니다.

| Token | Value | Reference |
| :--- | :--- | :--- |
| `base` | 0 | Default content |
| `elevated` | 10 | Sticky Headers |
| `floating` | 100 | Dropdowns |
| `modal` | 1000 | Dialogs, Drawers |
| `toast` | 10000 | Notifications |

---

## Live Examples

### 1. Modal & Drawer
아래 버튼을 눌러 Overlay 컴포넌트를 테스트해보세요.
Backdrop 클릭 시 닫히는지, 애니메이션과 Shadow 깊이감을 확인하세요.

export const OverlayExample = () => {
    const [isModalOpen, setIsModalOpen] = useState(false);
    const [isDrawerOpen, setIsDrawerOpen] = useState(false);

    return (
        <div style={{ display: 'flex', gap: '10px' }}>
            <button onClick={() => setIsModalOpen(true)}>Open Modal</button>
            <button onClick={() => setIsDrawerOpen(true)}>Open Drawer</button>

            <Modal isOpen={isModalOpen} onClose={() => setIsModalOpen(false)} title="Example Modal">
                <p>This is a modal dialog based on the Overlay primitive.</p>
                <p>It uses <code>vars.shadow.modal</code> (Level 3) and <code>vars.zIndices.modal</code>.</p>
            </Modal>

            <Drawer isOpen={isDrawerOpen} onClose={() => setIsDrawerOpen(false)} title="Settings Drawer">
                <p>Drawers slide in from the side.</p>
                <p>They use <code>vars.shadow.overlay</code> (Level 2).</p>
                <div style={{ height: '800px', background: '#f5f5f5', padding: '10px', marginTop: '10px' }}>
                    Long content test...
                </div>
            </Drawer>
        </div>
    );
};

<OverlayExample />

### 2. Floating (Popover)
요소 위에 마우스를 호버하여 Popover를 확인하세요.

export const FloatingExample = () => {
    const [isHovered, setIsHovered] = useState(false);

    return (
        <div style={{ marginTop: '20px', padding: '20px', border: '1px dashed #ccc' }}>
             <Floating 
                visible={isHovered} 
                content={<span>Helpful Tooltip Content</span>}
            >
                <span 
                    style={{ cursor: 'help', borderBottom: '1px dotted' }}
                    onMouseEnter={() => setIsHovered(true)}
                    onMouseLeave={() => setIsHovered(false)}
                >
                    Hover me for details
                </span>
            </Floating>
        </div>
    );
};

<FloatingExample />

---

## Usage

```tsx
import { Modal, Drawer } from '@/components/overlay';

// Modal
<Modal isOpen={isOpen} onClose={close} title="My Modal">
    <Content />
</Modal>

// Drawer
<Drawer isOpen={isOpen} onClose={close} title="Sidebar">
    <Navigation />
</Drawer>
```
