---
title: CSS Subgrid Patterns
order: 8
category: Design System
---

import { SubgridExample } from '../../components/docs/SubgridExample';

# CSS Subgrid Patterns

`subgrid`는 부모 그리드의 트랙(행/열)을 자식 요소가 그대로 상속받아 사용하는 강력한 기능입니다.
복잡한 중첩 구조에서도 라인을 완벽하게 맞출 수 있어 시각적 조화(Visual Harmony)를 이루는 데 필수적입니다.

## Why Subgrid?

기존의 Grid/Flex 중첩은 각자가 독립적인 레이아웃 컨텍스트를 가집니다.
때문에 **"서로 다른 카드에 있는 제목의 높이를 똑같이 맞추기"**같은 작업이 매우 어렵거나 불가능했습니다.

Subgrid를 사용하면 자식 요소가 부모(또는 조상)의 그리드 트랙을 직접 참조하므로, 구조적 깊이에 상관없이 정렬을 맞출 수 있습니다.

## Use Cases

### 1. Card Layout Alignment

여러 카드가 나열되어 있을 때, 내부 컨텐츠(제목, 본문, 푸터)의 높이가 제각각이라도 같은 행(Row)에 있는 요소끼리 줄을 맞출 수 있습니다.

```tsx
// Parent Grid
display: 'grid',
gridTemplateColumns: 'repeat(3, 1fr)',
gridTemplateRows: 'auto auto 1fr', // Header, Content, Footer tracks

// Card (Child) using Mixin
export const card = style([
    subgrid('y'), // Inherit rows
    {
        gridRow: 'span 3' // Span across the 3 tracks
    }
]);
```

### 2. Form Layouts

Label과 Input이 서로 다른 컨테이너에 있어도, 전체 폼의 라벨 너비를 통일할 수 있습니다.

## Mixin: Subgrid in Vanilla Extract

`subgrid`를 쉽게 사용하기 위한 Mixin입니다 (`src/styles/utils.css.ts`).

```typescript
// src/styles/utils.css.ts
export const subgrid = (axis: 'x' | 'y' | 'both' = 'both', width: string = '1 / -1'): StyleRule => ({
    display: 'grid',
    gridColumn: width,
    ...(axis === 'x' || axis === 'both' ? { gridTemplateColumns: 'subgrid' } : {}),
    ...(axis === 'y' || axis === 'both' ? { gridTemplateRows: 'subgrid' } : {})
});
```

## Usage Example

```typescript
// styles.css.ts
import { style } from '@vanilla-extract/css';
import { subgrid } from '../../styles/utils.css';

export const parent = style({
  display: 'grid',
  gridTemplateColumns: '1fr 2fr 1fr',
  gap: '16px'
});

export const childItem = style([
  // subgrid('x')를 배열로 합성 (기본값: 전체 너비)
  subgrid('x'),
  {
      // ... local overrides
      padding: '16px'
  }
]);
```

## Live Example

아래 예시는 `subgrid('y')`를 사용하여 헤더, 본문, 푸터의 높이를 카드 간에 동기화한 모습입니다.
가운데 카드의 본문이 길어지면, 좌우 카드의 본문 영격도 함께 늘어나 **푸터의 위치가 항상 일치**하게 됩니다.

<div style={{ padding: '20px', backgroundColor: 'rgba(0,0,0,0.02)', borderRadius: '8px', marginTop: '20px' }}>
    <SubgridExample />
</div>
