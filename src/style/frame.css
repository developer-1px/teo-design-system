/* -------------------------------------------------------------------------- */
/*                                 Base Frame                                 */
/* -------------------------------------------------------------------------- */
.frame {
  display: flex;
  box-sizing: border-box;
  flex-direction: column;
  /* Default: vbox */
  position: relative;
}

.frame > * {
  min-width: 0;
  /*min-height: 0;*/
}

/* Ensure hidden attribute works even with flex/grid */
[hidden] {
  display: none !important;
}

/* -------------------------------------------------------------------------- */
/*                          1. Context (Direction)                            */
/* -------------------------------------------------------------------------- */
.hbox {
  flex-direction: row;
}

.vbox {
  flex-direction: column;
}

.wrap {
  flex-wrap: wrap;
}

.nowrap {
  flex-wrap: nowrap;
}

/* -------------------------------------------------------------------------- */
/*                     2. Distribution (Pack = Main Axis)                     */
/* -------------------------------------------------------------------------- */

/* "Magic Pack": pack={true} means Center/Center */
.pack {
  justify-content: center;
  align-items: center;
}

/* Specific Packing (Main Axis) */
.pack\(start\) {
  justify-content: flex-start;
}

.pack\(center\) {
  justify-content: center;
}

.pack\(end\) {
  justify-content: flex-end;
}

.pack\(space\) {
  justify-content: space-between;
}

/* -------------------------------------------------------------------------- */
/*                      3. Alignment (Align = Cross Axis)                     */
/* -------------------------------------------------------------------------- */
.align\(start\) {
  align-items: flex-start;
}

.align\(center\) {
  align-items: center;
}

.align\(end\) {
  align-items: flex-end;
}

.align\(stretch\) {
  align-items: stretch;
}

.align\(baseline\) {
  align-items: baseline;
}

/* -------------------------------------------------------------------------- */
/*                        4. Resizing (Width Intent)                          */
/* -------------------------------------------------------------------------- */

/* A. Fixed Width (Arbitrary Number) */
.w\(fixed\) {
  flex-grow: 0;
  flex-shrink: 0;
  /* width: set via inline style */
}

/* B. Hug Width (Fit Content) */
.w\(hug\) {
  width: max-content;
  max-width: 100%;
  /* Prevent blowout */
  /* Ensure it wraps text only if needed, usually max-content for 'hug' */
  flex-grow: 0;
  flex-shrink: 0;
}

/* C. Fill Width (Context Aware) */

/* C-1. Inside Row: Share space */
.hbox>.w\(fill\) {
  flex-grow: 1;
  flex-basis: 0;
  width: auto;
  min-width: 0;
  /* The Fix */
}

/* C-2. Inside Col: Stretch to edges */
.vbox>.w\(fill\) {
  align-self: stretch;
  width: 100%;
  flex-grow: 0;
  /* Prevent accidental vertical growth */
}

/* C-3. Default Fallback (if no parent context class, assume smart defaults) */
.w\(fill\) {
  width: 100%;
  /* Default to 100% usually safe */
}

.w\(screen\) {
  width: 100vw;
}

/* -------------------------------------------------------------------------- */
/*                                  5. Grid                                    */
/* -------------------------------------------------------------------------- */
.grid {
  display: grid;
  flex-direction: unset;
  /* Disable default vbox behavior */
}

/* C-4. Inside Grid: Match horizontal bounds */
.grid>.w\(fill\) {
  width: 100%;
}

/* B-2. Inside Grid: Wrap content */
.grid>.w\(hug\) {
  width: max-content;
}

/* -------------------------------------------------------------------------- */
/*                        6. Resizing (Height Intent)                         */
/* -------------------------------------------------------------------------- */

/* A. Fixed Height */
.h\(fixed\) {
  flex-grow: 0;
  flex-shrink: 0;
  /* height: set via inline style */
}

/* B. Hug Height */
.h\(hug\) {
  height: max-content;
  flex-grow: 0;
  flex-shrink: 0;
}

/* B-2. Inside Grid: Wrap content */
.grid>.h\(hug\) {
  height: max-content;
}

/* C. Fill Height (Context Aware) */

/* C-1. Inside Row: Stretch to edges */
.hbox>.h\(fill\) {
  align-self: stretch;
  height: auto;
}

/* C-2. Inside Col: Share space */
.vbox>.h\(fill\) {
  flex-grow: 1;
  flex-basis: 0;
  height: auto;
  min-height: 0;
}

/* C-3. Inside Grid: Stretch to edges */
.grid>.h\(fill\) {
  height: 100%;
}

.h\(screen\) {
  height: 100vh;
}

/* -------------------------------------------------------------------------- */
/*                          6. Visual Utilities                               */
/* -------------------------------------------------------------------------- */

/* Surface */
.surface-base {
  background-color: var(--surface-base);
  color: var(--text-primary);
}

.surface-sunken {
  background-color: var(--surface-sunken);
}

.surface-raised {
  background-color: var(--surface-raised);
  box-shadow: var(--shadow-sm);
  border: var(--border-width) solid var(--border-color);
}

.surface-overlay {
  background-color: var(--surface-overlay);
  box-shadow: var(--shadow-lg);
  border: var(--border-width) solid var(--border-color);
}

.surface-panel {
  background-color: var(--surface-panel);
  border-right: var(--border-width) solid var(--border-color);
}

.surface-card {
  background-color: var(--surface-card);
  box-shadow: var(--shadow-sm);
  border: var(--border-width) solid var(--border-color);
}

.surface-primary {
  background-color: var(--surface-primary);
  color: var(--primary-fg);
}

.surface-selected {
  background-color: var(--surface-selected);
}

.surface-hover {
  background-color: var(--control-bg-hover);
}

/* Cursor */
.cursor-pointer {
  cursor: pointer;
}

.cursor-default {
  cursor: default;
}

.cursor-text {
  cursor: text;
}

.cursor-move {
  cursor: move;
}

.cursor-not-allowed {
  cursor: not-allowed;
}

.cursor-grab {
  cursor: grab;
}

.cursor-grabbing {
  cursor: grabbing;
}

/* Shadow */
.shadow-sm {
  box-shadow: var(--shadow-sm);
}

.shadow-md {
  box-shadow: var(--shadow-md);
}

.shadow-lg {
  box-shadow: var(--shadow-lg);
}

.shadow-xl {
  box-shadow: var(--shadow-xl);
}

.shadow-2xl {
  box-shadow: var(--shadow-2xl);
}

/* Border */
.border-default {
  border-color: var(--border-color);
}

.border-transparent {
  border-color: transparent;
}

.border-primary {
  border-color: var(--text-primary);
}

/* Overflow & Clip */
.overflow-hidden {
  overflow: hidden;
}

.overflow-auto {
  overflow: auto;
}

.overflow-x-auto {
  overflow-x: auto;
  overflow-y: hidden;
}

.overflow-y-auto {
  overflow-y: auto;
  overflow-x: hidden;
}

.overflow-visible {
  overflow: visible;
}

/* Position */
.relative {
  position: relative;
}

.absolute {
  position: absolute;
}

.fixed {
  position: fixed;
}

.sticky {
  position: sticky;
}